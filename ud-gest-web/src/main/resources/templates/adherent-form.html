<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head th:include="fragments/header :: header"></head>
<body>
	<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation"
		th:include="fragments/menu :: menu"></nav>
	<div class="container">
		<div class="row">
			<div class="col-lg-12">
				<h1 class="page-header">Ajouter adhérent</h1>
				<ol class="breadcrumb">
					<li><a th:href="@{/adherent}">Rechercher adherent</a></li>
					<li class="active">Détails adhérent</li>
				</ol>
			</div>
		</div>
		<div class='row'>
			<form class="form-horizontal" method="post" th:object="${adherent}" th:action="@{/save-adherent}">
				<div class='row'>
					<div class="col-lg-12 form-group-adherent">
						<p class="fa fa-inverse">Informations personnelles</p>
						<span id="test_ajout" class="fa fa-inverse" style="margien-left:10px;">test-ajout</span>
					</div>
				</div>
				<div class='row'>
					<div class="col-lg-6">
						<div class="form-group">
							<label for="nom" class="col-sm-2 control-label">Nom :</label>
							<div class="col-sm-8">
								<input type="text" class="form-control" th:field="*{nom}" id="nom_adherent"></input>
							</div>
						</div>
						<div class="form-group">
							<label for="prenom" class="col-sm-2 control-label">Prénom :</label>
							<div class="col-sm-8">
								<input type="text" class="form-control" th:field="*{prenom}" id="prenom_adherent"></input>
							</div>
						</div>
						<div class="form-group">
							<label for="dob" class="col-sm-2 control-label">Dob :</label>
							<div class="col-sm-8">
								<input type="text" class="form-control" th:field="*{dob}" id="dob_adherent"></input>
							</div>
						</div>
						<div class="form-group">
							<label for="tel" class="col-sm-2 control-label">Téléphone
								:</label>
							<div class="col-sm-8">
								<input type="text" class="form-control" th:field="*{tel}" id="tel_adherent"></input>
							</div>
						</div>
						<div class="form-group">
							<label for="mail" class="col-sm-2 control-label">Mail :</label>
							<div class="col-sm-8">
								<input type="text" class="form-control" th:field="*{mail}" id="mail_adherent"></input>
							</div>
						</div>
					</div>
					<div class="col-lg-6">
						<div class="form-group">
							<label for="num_rue" class="col-sm-2 control-label">N° :</label>
							<div class="col-sm-8">
								<input type="text" class="form-control" th:field="*{numeroRue}" id="num_rue_adherent"></input>
							</div>
						</div>
						<div class="form-group">
							<label for="rue" class="col-sm-2 control-label">Rue :</label>
							<div class="col-sm-8">
								<input type="text" class="form-control" th:field="*{libelleRue}" id="rue_adherent"></input>
							</div>
						</div>
						<div class="form-group">
							<label for="dob" class="col-sm-2 control-label">Cp :</label>
							<div class="col-sm-8">
								<input type="text" class="form-control" th:field="*{cp}" id="cp_adherent"></input>
							</div>
						</div>
						<div class="form-group">
							<label for="tel" class="col-sm-2 control-label">Ville :</label>
							<div class="col-sm-8">
								<input type="text" class="form-control" th:field="*{ville}" id="ville_adherent"></input>
							</div>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-lg-6">
						<div class="row">
							<div class="form-group-entreprise">
								<span class="fa fa-inverse">Entreprise</span>
							</div>
						</div>
						<div class="form-group">
							<label for="libelle_entreprise" class="col-sm-2 control-label">Libellé :</label>
							<div class="col-sm-8">
								<input type="text" class="form-control"	id="libelle_entreprise" th:field="*{adherent.entreprise.libelle}"></input>
							</div>
						</div>
						<div class="form-group">
							<label for="num_rue_entreprise" class="col-sm-2 control-label">N° :</label>
							<div class="col-sm-8">
<!-- 								<input type="text" class="form-control"	id="num_rue_entreprise" th:field="*{adherent.entreprise.numeroRue}"></input> -->
							</div>
						</div>
						<div class="form-group">
							<label for="libelle_rue_entreprise"
								class="col-sm-2 control-label">Rue :</label>
							<div class="col-sm-8">
<!-- 								<input type="text" class="form-control"	id="libelle_rue_entreprise" th:field="*{adherent.entreprise.libelleRue}"></input> -->
							</div>
						</div>
						<div class="form-group">
							<label for="cp_entreprise" class="col-sm-2 control-label">Cp :</label>
							<div class="col-sm-8">
<!-- 								<input type="text" class="form-control" id="cp_entreprise" th:field="*{adherent.entreprise.cp}"></input> -->
							</div>
						</div>
						<div class="form-group">
							<label for="ville_entreprise" class="col-sm-2 control-label">Ville :</label>
							<div class="col-sm-8">
<!-- 								<input type="text" class="form-control" id="ville_entreprise" th:field="*{adherent.entreprise.ville}"></input> -->
							</div>
						</div>
						<div class="form-group">
							<label for="tel_entreprise" class="col-sm-2 control-label">Tel :</label>
							<div class="col-sm-8">
<!-- 								<input type="text" class="form-control" id="tel_entreprise" th:field="*{adherent.entreprise.tel}"></input> -->
							</div>
						</div>
						<div class="form-group">
							<label for="fax_entreprise" class="col-sm-2 control-label">Fax :</label>
							<div class="col-sm-8">
<!-- 								<input type="text" class="form-control" id="fax_entreprise" th:field="*{adherent.entreprise.fax}"></input> -->
							</div>
						</div>
						<div class="form-group">
							<label for="web_entreprise" class="col-sm-2 control-label">Site	web :</label>
							<div class="col-sm-8">
<!-- 								<input type="text" class="form-control" id="web_entreprise" th:field="*{adherent.entreprise.siteWeb}"></input> -->
							</div>
						</div>
					</div>
					<div class="col-lg-6">
						<div class="row">
							<div class="form-group-syndicat">
								<span class="fa fa-inverse">Syndicat</span>	
							</div>
						</div>
						<div class="form-group">
							<label for="libelle_syndicat" class="col-sm-2 control-label">Libellé :</label>
							<div class="col-sm-8">
<!-- 								<input type="text" class="form-control"	id="libelle_syndicat" th:field="*{adherent.syndicat.libelle}"></input> -->
							</div>
						</div>
						<div class="form-group">
							<label for="dernier_ag_syndicat" class="col-sm-2 control-label">Dern. Ag :</label>
							<div class="col-sm-8">
<!-- 								<input type="text" class="form-control"	id="dernier_ag_syndicat" th:field="*{adherent.syndicat.dernierAg}"></input> -->
							</div>
						</div>
						<div class="form-group">
							<label for="prochain_ag_syndicat" class="col-sm-2 control-label">Proch. Ag :</label>
							<div class="col-sm-8">
<!-- 								<input type="text" class="form-control"	id="prochain_ag_syndicat" th:field="*{adherent.syndicat.prochainAg}"></input> -->
							</div>
						</div>
						<div class="form-group">
							<label for="num_rue_syndicat" class="col-sm-2 control-label">N° :</label>
							<div class="col-sm-8">
<!-- 								<input type="text" class="form-control"	id="num_rue_syndicat" th:field="*{adherent.syndicat.numeroRue}"></input> -->
							</div>
						</div>
						<div class="form-group">
							<label for="rue_syndicat" class="col-sm-2 control-label">Rue :</label>
							<div class="col-sm-8">
<!-- 								<input type="text" class="form-control"	id="libelle_rue_syndicat" th:field="*{adherent.syndicat.libelleRue}"></input> -->
							</div>
						</div>
						<div class="form-group">
							<label for="cp_syndicat" class="col-sm-2 control-label">Cp :</label>
							<div class="col-sm-8">
<!-- 								<input type="text" class="form-control"	id="cp_syndicat" th:field="*{adherent.syndicat.cp}"></input> -->
							</div>
						</div>
						<div class="form-group">
							<label for="ville_syndicat" class="col-sm-2 control-label">Ville :</label>
							<div class="col-sm-8">
<!-- 								<input type="text" class="form-control"	id="ville_syndicat" th:field="*{adherent.syndicat.ville}"></input> -->
							</div>
						</div>
						<div class="form-group">
							<label for="tel_syndicat" class="col-sm-2 control-label">Tel :</label>
							<div class="col-sm-8">
<!-- 								<input type="text" class="form-control"	id="tel_syndicat" th:field="*{adherent.syndicat.tel}"></input> -->
							</div>
						</div>
						<div class="form-group">
							<label for="fax_syndicat" class="col-sm-2 control-label">Fax :</label>
							<div class="col-sm-8">
<!-- 								<input type="text" class="form-control"	id="fax_syndicat" th:field="*{adherent.syndicat.fax}"></input> -->
							</div>
						</div>
						<div class="form-group">
							<label for="mail_syndicat" class="col-sm-2 control-label">Mail :</label>
							<div class="col-sm-8">
<!-- 								<input type="text" class="form-control"	id="mail_syndicat" th:field="*{adherent.syndicat.mail}"></input> -->
							</div>
						</div>
						<div class="form-group">
							<label for="web_syndicat" class="col-sm-2 control-label">Site web :</label>
							<div class="col-sm-8">
<!-- 								<input type="text" class="form-control"	id="web_syndicat" th:field="*{adherent.syndicat.siteWeb}"></input> -->
							</div>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-xs-12">
						<button type="submit" class="btn btn-secondary">Ajouter</button>
					</div>
				</div>
			</form>
		</div>
	</div>
</body>
<div th:include="fragments/footer :: footer"></div>
	<!-- jquery ui 1.12.1 -->
	<script src="js/jquery.easy-autocomplete.min.js" th:src="@{/js/jquery.easy-autocomplete.min.js}"></script>
		
	<script type="text/javascript">

	$(function() {
		
		$("#test_ajout").on("click", function() {
			$("#nom_adherent").val("JOHN");
			$("#prenom_adherent").val("ATTEND");
			$("#dob_adherent").val("23-06-1989");
			$("#tel_adherent").val("0146309100");
			$("#mail_adherent").val("john@attend.com");
			$("#num_rue_adherent").val("666");
			$("#rue_adherent").val("nowhere");
			$("#cp_adherent").val("66666");
			$("#ville_adherent").val("Springfield");
		})
		
 		/**
 		autocompletion pour l'entreprise
 		**/
		var optionsEntreprise = {
			  url: function(motCle) {
			    return "search-entreprise-ajax";
			  },
			  getValue: function(element) {
			    return element.libelle;
			  },
			  ajaxSettings: {
			    dataType: "json",
			    method: "POST",
			    data: {
			      dataType: "json"
			    }
			  },
			  preparePostData: function(data) {
			    data.motCle = $("#libelle_entreprise").val();
			    return data;
			  },
			  list: {
				  onChooseEvent: function() {
					var entreprise = $("#libelle_entreprise").getSelectedItemData();
					$("#num_rue_entreprise").val(entreprise.numeroRue);
					$("#libelle_rue_entreprise").val(entreprise.libelleRue);
					$("#cp_entreprise").val(entreprise.cp);
					$("#ville_entreprise").val(entreprise.ville);
					$("#tel_entreprise").val(entreprise.tel);
					$("#fax_entreprise").val(entreprise.fax);
					$("#web_entreprise").val(entreprise.siteWeb);
				}  
			  },
			  requestDelay: 400
			};
		$("#libelle_entreprise").easyAutocomplete(optionsEntreprise);
		
		/**
		autocompletion pour le syndicat
		**/
	var optionsSyndicat = {
		  url: function(motCle) {
		    return "search-syndicat-ajax";
		  },
		  getValue: function(element) {
		    return element.libelle;
		  },
		  ajaxSettings: {
		    dataType: "json",
		    method: "POST",
		    data: {
		      dataType: "json"
		    }
		  },
		  preparePostData: function(data) {
		    data.motCle = $("#libelle_syndicat").val();
		    return data;
		  },
		  list: {
			  onChooseEvent: function() {
				var syndicat = $("#libelle_syndicat").getSelectedItemData();
				$("#dernier_ag_syndicat").val(syndicat.dernierAg);
				$("#prochain_ag_syndicat").val(syndicat.prochainAg);
				$("#num_rue_syndicat").val(syndicat.numeroRue);
				$("#libelle_rue_syndicat").val(syndicat.libelleRue);
				$("#cp_syndicat").val(syndicat.cp);
				$("#ville_syndicat").val(syndicat.ville);
				$("#tel_syndicat").val(syndicat.tel);
				$("#fax_syndicat").val(syndicat.fax);
				$("#mail_syndicat").val(syndicat.mail);
				$("#web_syndicat").val(syndicat.siteWeb);
			}  
		  },
		  requestDelay: 400
		};
		$("#libelle_syndicat").easyAutocomplete(optionsSyndicat);
	});
	


	
	
	</script>
</html>
